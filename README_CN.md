# Logseq 代码高亮插件

为 Logseq 中的代码块提供增强的语法高亮效果，配备精美的配色方案，可自动适应暗色和亮色主题。

[English](README.md) | 简体中文

## ✨ 特性

- **🎨 颜色可自定义**：为每个代码元素提供完全可定制的语法高亮颜色
- **🌓 自动主题适配**：暗色和亮色主题的独立颜色配置
- **💻 多语言支持**：为 Logseq CodeMirror 支持的所有语言提供增强高亮
- **🚀 轻量级**：基于纯 CSS 的实现方式，性能影响极小
- **⚙️ 简单配置**：通过 Logseq 插件设置面板配置颜色

## 🎯 功能说明

本插件通过以下方式增强 Logseq 默认的代码语法高亮：
- 为不同的代码元素提供更鲜明、更易区分的颜色
- 让关键字、字符串、函数和变量在视觉上更加突出
- 自动适配您的 Logseq 主题（暗色/亮色模式）配色方案

## 🌈 配色方案

### 暗色主题
- **关键字**：亮蓝色 (`#00bfff`) - 加粗
- **字符串**：橙色 (`#ffcc88`)
- **函数**：黄色 (`#ffe66d`) - 加粗
- **数字**：亮绿色 (`#b5ff8a`) - 加粗
- **注释**：绿色 (`#6adb7a`) - 斜体
- **变量**：粉色 (`#ff9999`)
- **类型**：青色 (`#4ec9b0`)

### 亮色主题
- **关键字**：经典蓝 (`#0000ff`) - 加粗
- **字符串**：红色 (`#a31515`)
- **函数**：棕色 (`#795e26`) - 加粗
- **数字**：深绿色 (`#098658`) - 加粗
- **注释**：绿色 (`#008000`) - 斜体
- **变量**：深蓝色 (`#001080`)
- **类型**：青绿色 (`#267f99`)

## 📦 安装方法

### 手动安装
1. 下载最新版本或克隆此仓库
2. 构建插件：
   ```bash
   npm install
   npm run build
   ```
3. 在 Logseq 中，进入 `设置` → `插件` → `加载未打包插件`
4. 选择插件文件夹

## 🚀 使用方法

只需在 Logseq 页面中使用标准的 Markdown 语法编写代码块：

\`\`\`javascript
function greet(name) {
  // 这是一个注释
  const message = "你好，" + name;
  return message;
}
\`\`\`

\`\`\`python
def calculate(x, y):
    # 计算总和
    result = x + y
    return result
\`\`\`

插件会自动为所有代码块应用增强的语法高亮效果！

## ⚙️ 配置

你可以通过 Logseq 插件设置为暗色和亮色主题自定义语法高亮颜色：

1. 进入 `设置` → `插件` → `Code Highlight` → `设置`
2. **重置颜色**：勾选顶部的复选框可将所有颜色恢复为默认值
3. 为每个语法元素自定义颜色：
   - **关键字**：如 `if`、`while`、`function`、`class` 等关键字的颜色
   - **字符串**：字符串字面量的颜色
   - **函数**：函数和方法名的颜色
   - **数字**：数字字面量和常量的颜色
   - **注释**：代码注释的颜色
   - **变量**：变量和参数的颜色
   - **类型**：类型、内置函数和属性的颜色
   - **操作符**：操作符和标点符号的颜色
   - **指令/元信息**：预处理指令的颜色，如 `#include`、`import`、`@decorator` 等
4. 暗色和亮色主题可以分别设置颜色
5. 每个颜色设置都包含颜色选择器，方便选择
6. 支持标准颜色格式：十六进制颜色（如 `#00bfff`）、颜色名称（如 `blue`）或 RGB 值

修改后立即生效，无需重启 Logseq！

### 默认配色方案

**暗色主题：**
- 关键字：`#00bfff`（亮蓝色）
- 字符串：`#ffcc88`（橙色）
- 函数：`#ffe66d`（黄色）
- 数字：`#b5ff8a`（亮绿色）
- 注释：`#6adb7a`（绿色）
- 变量：`#ff9999`（粉色）
- 类型：`#4ec9b0`（青色）
- 操作符：`#ffffff`（白色）
- 指令/元信息：`#ffe66d`（黄色）

**亮色主题：**
- 关键字：`#0000ff`（经典蓝）
- 字符串：`#a31515`（红色）
- 函数：`#795e26`（棕色）
- 数字：`#098658`（深绿色）
- 注释：`#008000`（绿色）
- 变量：`#001080`（深蓝色）
- 类型：`#267f99`（青绿色）
- 操作符：`#000000`（黑色）
- 指令/元信息：`#af00db`（紫色）

## 🔧 支持的编程语言

本插件为 **Logseq 内置 CodeMirror 支持的所有语言**提供语法高亮颜色增强。

### ⚠️ 重要说明

**支持的语言完全由 Logseq 内置的 CodeMirror 实现决定。** 本插件仅增强语法高亮的配色方案 - 它不会添加新语言的支持。

- ✅ 如果某种语言在原生 Logseq 中有语法高亮，本插件会增强其配色效果
- ❌ 如果某种语言在原生 Logseq 中没有语法高亮，本插件无法为其添加支持

本插件的工作原理是覆盖 CodeMirror 语法标记（关键字、字符串、函数等）的 CSS 样式，使其更加鲜明和易于区分。

## 🛠️ 开发

```bash
# 安装依赖
npm install

# 开发模式（带文件监听）
npm run dev

# 生产构建
npm run build

# 创建发布包
npm run pack
```

## 📝 许可证

GPL-3.0 许可证 - 详见 [LICENSE](LICENSE) 文件

## 🙏 贡献

欢迎贡献！请随时提交 Pull Request。

## 📮 问题反馈

如果您遇到任何问题或有建议，请在 GitHub 上提交 issue。
